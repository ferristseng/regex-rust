from cases import *
from datetime import datetime

FILE = open('build/benches/python_gen_bench.py', 'w')
FILE2 = open('build/benches/python_search_bench.py', 'w')

OUTPUT = """
# This is an auto-generated test file
# Generated by benchmark/rust_bench_generator.py
#
# Last Modified: %s

import re

for i in range (0, %s):
  %s
"""

TEST_FN = \
"""
  re.search(\"%s\", \"%s\")"""

OUTPUT2 = """
# This is an auto-generated test file
# Gnerated by benchmark/rust_bench_generator.py
#
# Last Modified: %s

import re

test = re.compile(\"%s\")

for i in range (0, %s):
  %s


"""

TEST_FN2 = \
"""
      test.search(\"%s\")"""

if __name__ == "__main__":
  date = datetime.today().strftime("%B %d %Y %I:%M%p")
  buf = ""
  buf2 = ""

  for (i, test) in enumerate(TEST_GEN):
    buf += TEST_FN % (test[0], test[1])

  FILE.write(OUTPUT % (date, NO_LOOPS, buf))
  print("Successfully generated test file: benchmark/benches/cpp_gen_bench.rs")

  for (i, test) in enumerate(TEST_SRCH):
    buf2 += TEST_FN2 % (test)

  FILE2.write(OUTPUT2 % (date, SRCH_REG, NO_LOOPS, buf2))
  print("Successfully generated test file: benchmark/benches/cpp_search_bench.rs")
